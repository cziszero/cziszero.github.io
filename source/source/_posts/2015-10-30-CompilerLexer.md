---
layout: post
title: 词法分析 RE DFA 与 NFA
description: 编译原理笔记之词法分析
date: 2015-10-30
categories: 
  - 课程
  - 编译原理
tags:
  - 编译原理
---
## 目标
单词的形式化描述方法和识别方法

## 概念
*	连接
*	Token（单词）
*	Pattern（模式）
*	Lexeme（词形）

## 形式化描述：正则表达式
此处定义的正则表达式中只有|（并运算，union），.(连接运算，concatenation)，\*闭包运算（kleene closure）。
正则表达式仅能表达可递归定义的语言集合中的一部分，能被正则表达式描述的叫做正则语言。
为了方便书写, 特约定正则表达式的优先级别如下:
 a>*>.(连接运算)>|  
 如果语言在递归构造中有两个部分相关联，则不能用正则表达式描述。上例表明正则表达式不能描述在程序
语言中嵌套的符号对，如：(和)，注释嵌套等。课件P27

## 识别方法：DFA(Deterministic Finite Automata).
无分词，整个输入串看成一个要识别的整体，没有分词处理，只判断该字符串能否被接受。

有分词，如果DFA 的接受状态还有引出的边到其他的状态, 
扫描程序必须要要继续向前扫描搜索到一个出错状态,再回退到扫描过程的某个接受状态，从而实现分词，即实现最长匹配。

## RE到DFA的转化：NFA(Nondeterministic Finite Automata)
为了实现从描述词法的正则表达式到以确定的有限自动机为支撑的识别该词法的词法分析器的自动转换，我们利用NFA作为该转换的桥，通过Thompson构造将正则表达式转换为与之等价的NFA，再用子集构造法将所得到的NFA 转换为与之等价的DFA，从而构造出以该DFA 状态转换表为驱动的识别给定正则表达式的词法分析器.

### Thompson 构造法.
利用正则表达式的递归结构，实现正则表达式到NFA的自动转换.
1.		分别对每个字母a ∈ Σ 和 kong  构造由唯一的接受状的NFA;
2.		如果正则表达式r 和s 对应的NFA Mr 和Ms 已构造，则
2.1. 正则表达式 r | s 对应的自动机是将 Mr 和 Ms ``并联''后所得到的自动机
2.2. 正则表达式 rs 对应的自动机是将 Mr 和 Ms ``串联'' 后所得到的自动机
2.3. 正则表达式 r*对应的自动机是将 Mr 中加上短路边和回路

### ε-closure
ε-closure(B)即B集合中状态通过ε边可达的状态集合。

解决NFA 的不确定性(多条路经接受一个输入串): 枚举所有可能的路径.

### 子集构造法
从NFA到DFA的转换

### DFA的最小化
定义：可区别状态
如果A 和B 是不可区别的, 则从A 状态出发接受的串和从B 状态出发接
受的串相同，称之为等价状态. 合并所有的价状态所得到的自动机一定
是状态数最少的自动机.

## 一些性质
*	L 是正则语言，则Σ*-L 也是正则语言.
*	可判定性问题 MDFA(r) ∼= MDFA(s) 则r=s
*	设L1 和L2 是正则语言, 则L1 L2, L1 ∪ L2, L1 ∩ L2,L1 - L2和L1* 也是正则语言

## 参考
本内容来自上课时老师的[课件](../docs/lexer.pdf)，仅作总结，如有侵权，告知即删。